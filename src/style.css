@import "tailwindcss";

/* Custom theme configuration (Tailwind 4 CSS-first) */
@theme {
  /* Brand colors */
  --color-primary: #BE3E82;
  --color-secondary: #334155;

  /* Font family with metric-matched fallback */
  --font-sans: 'Inter', 'Inter Fallback', ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
}

/*
 * Zero-CLS Font Loading Strategy
 *
 * Problem: Web fonts cause layout shifts when they replace fallback fonts
 * because they have different metrics (character widths, heights, line spacing).
 *
 * Solution: Define a fallback font with CSS metric overrides that exactly match
 * Inter's metrics. This ensures text takes the same space regardless of which
 * font renders, eliminating Cumulative Layout Shift (CLS).
 *
 * Values calculated for Inter â†’ Arial fallback using:
 * https://developer.chrome.com/blog/font-fallbacks
 * https://screenspan.net/fallback
 */

/* Metric-matched fallback font for Inter - prevents CLS completely */
@font-face {
  font-family: 'Inter Fallback';
  src: local('Arial'), local('ArialMT'), local('Helvetica Neue'), local('Helvetica');
  /* These values match Inter's metrics to prevent layout shift */
  ascent-override: 90.44%;
  descent-override: 22.52%;
  line-gap-override: 0%;
  size-adjust: 107.12%;
}

body {
  @apply text-secondary bg-slate-50;
  font-family: var(--font-sans);
}

/*
 * Content-visibility optimization for below-the-fold sections
 * Allows browser to skip rendering off-screen content initially,
 * reducing forced reflows and improving initial paint performance.
 * Reference: https://web.dev/content-visibility/
 */
#methodology,
#perspectives,
#impact {
  content-visibility: auto;
  /* contain-intrinsic-size provides height hint to prevent CLS during lazy render */
  contain-intrinsic-size: auto 600px;
}
