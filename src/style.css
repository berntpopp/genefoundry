@import "tailwindcss";

/*
 * Self-hosted Inter variable font (from Google Fonts v20)
 * Single file supports all weights 100-900, matches exactly what Google serves
 * font-display: swap ensures text is visible immediately with fallback
 */
@font-face {
  font-family: 'Inter';
  font-style: normal;
  font-weight: 100 900;
  font-display: swap;
  src: url('/fonts/inter-variable.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

/*
 * Metric-matched fallback font for Inter - prevents CLS
 * Values calculated using https://screenspan.net/fallback
 */
@font-face {
  font-family: 'Inter Fallback';
  src: local('Arial'), local('ArialMT'), local('Helvetica Neue'), local('Helvetica');
  ascent-override: 90.44%;
  descent-override: 22.52%;
  line-gap-override: 0%;
  size-adjust: 107.12%;
}

/* Custom theme configuration (Tailwind 4 CSS-first) */
@theme {
  /* Brand colors */
  --color-primary: #BE3E82;
  --color-primary-dark: #A23570;
  --color-secondary: #334155;

  /* Inter (self-hosted) with metric-matched fallback for zero CLS */
  --font-sans: 'Inter', 'Inter Fallback', ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
}

body {
  @apply text-secondary bg-slate-50;
  font-family: var(--font-sans);
}

/*
 * Content-visibility optimization for below-the-fold sections
 * Allows browser to skip rendering off-screen content initially,
 * reducing forced reflows and improving initial paint performance.
 * Reference: https://web.dev/content-visibility/
 */
#methodology,
#perspectives,
#impact {
  content-visibility: auto;
  /* contain-intrinsic-size provides height hint to prevent CLS during lazy render */
  contain-intrinsic-size: auto 600px;
}
